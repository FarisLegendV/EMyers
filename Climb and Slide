-- Cargar la Tora Library
local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/liebertsx/Tora-Library/main/src/library", true))()

-- Crear la ventana principal
local window = library:CreateWindow("Farislegend")

-- Carpeta Farm
local folder = window:AddFolder("Farm")

-- Botón: Get Best Pet
folder:AddButton({
    text = "Get Best Pet",
    callback = function()
        local replicatedStorage = game:GetService("ReplicatedStorage")
        local rPets = replicatedStorage:FindFirstChild("R_Pets")
        if rPets then
            rPets:FireServer("Give_Pet", "Pet_Honey_Mutant")
        end
    end
})

-- Dropdown: Selección de mapa
local selectedMap = "Map_1"
folder:AddList({
    text = "Select Map",
    values = {"Map_1", "Map_2", "Map_3"},
    callback = function(value)
        selectedMap = value
    end,
    flag = "map_selector"
})

-- Toggle: Auto Coins (Auto Slider)
folder:AddToggle({
    text = "Auto Coins",
    flag = "auto_slider_toggle",
    callback = function(state)
        _G.autoSlider = state
        while _G.autoSlider do
            local mapsFolder = workspace:FindFirstChild("Maps")
            if mapsFolder then
                local selected = mapsFolder:FindFirstChild(selectedMap)
                if selected then
                    local replicatedStorage = game:GetService("ReplicatedStorage")
                    local rServer = replicatedStorage:FindFirstChild("R_Server")
                    if rServer then
                        pcall(function()
                            rServer:FireServer("Slide", selected)
                        end)
                    end
                end
            end
            task.wait(0.5)
        end
    end
})

-- Inicializar GUI
library:Init()
